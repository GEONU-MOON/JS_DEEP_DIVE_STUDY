## 4장 변수

### 4.1 변수란 무엇인가? 왜 필요한가?

_자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않는다._

**변수**

> 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.

- 변수는 하나의 값을 저장하기 위한 메커니즘이다.

ex) 10 + 20 연산

    ➡️ 10 + 20 연산을 통해 새로운 값 30을 생성한다.
    ➡️ 메모리 공간에 30 저장한다.
    ➡️ 메모리 공간에 저장된 30을 재사용할 수 있도록 메모리 공간에 이름을 붙인다.

**💡 재사용하기 위해 메모리 공간에 이름을 붙인 것이 변수이다.**

- 할당: 변수에 값을 저장하는 것
- 참조: 변수에 저장된 값을 읽어 들이는 것
<hr>

### 4.2 식별자

_변수 이름을 식별자라고도 한다._

식별자는 값이 아니라 메모리 주소를 기억하고 있다. ➡️ 식별자는 메모리 주소에 붙인 이름이다.

<hr>

### 4.3 변수 선언

**자바스크립트 엔진 변수 선언 단계**

1. 선언

   변수 이름 등록

2. 초기화

   값을 저장하기 위한 메모리 공간 확보. undefined로 초기화

**변수 선언 키워드**

- var
- let
- const

1. var

```javascript
var score;
```

변수를 선언하고 값을 할당하지 않았으므로 확보된 메모리 공간에는 undefined라는 값이 암묵적으로 할당되어 초기화된다. (\*undefined: 자바스크립트에서 제공하는 원시 타입의 값.)

var 키워드로 선언한 변수는 선언 단계와 초기화 단계가 동시에 진행된다. var 키워드로 선언한 변수는 값을 할당하지 않아도 undefined라는 값을 갖는다.

➕ var 키워드의 단점

    블록 레벨 스코프를 지원하지 않고 함수 레벨 스코프를 지원한다. -> 의도치 않게 전역 변수가 선언되기도 함

<hr>

### 4.4 변수 선언의 실행 시점과 변수 호이스팅

```javascript
console.log(score);

var score;
```

위 코드의 실행 결과로 console.log(score); 에서 참조 에러가 발생할 것 같지만, 실제로는 undefined가 출력된다.

❓❓❓

**➡️ 변수 선언이 런타임이 아니라 그 이전 단계에서 먼저 실행되기 때문이다.**

> 자바스크립트 엔진은 소스를 실행하기 앞서 먼저 준비 단계인 **평가 과정**을 거친다. 소스코드 평가 과정에서 변수 선언을 포함한 **모든 선어문을 소스코드에서 찾아내 먼저 실행한다.** 평가 과정이 끝나면 모든 선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행한다.

자바스크립트 엔진은 변수 선언이 어디에 있든지 다른 코드보다 먼저 실행한다. 그래서 소스코드 어디서나 변수를 참조할 수 있다.

💡선언문을 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 **변수 호이스팅**이라 한다.

<hr>

### 4.5 값의 할당

_변수 선언과 값의 할당의 실행 시점이 다르다._

🚨변수 선언은 변수 호이스팅에 의해 런타임 이전에 먼저 실행되지만, 값의 할당은 런타임에 실행된다.

- ex 1.

```javascript
console.log(score); // undefined

var score;
score = 50;

console.log(score); // 50
```

- ex 2.

```javascript
console.log(score); // undefined

var score = 50;

console.log(score); // 50
```

변수 선언과 값의 할당을 하나로 합쳐도 할당은 런타임에서 실행되므로 ex 1과 동일한 결과가 출력된다.

> 변수에 값을 할당할 때는 이전 값 undefined가 저장되어 있던 메모리 공간에 할당할 값을 덮어씌우는 게 아니라 새로운 메모리을 확보하고 그곳에 할당 값을 저장한다.

- 아래 예제의 실행 결과는 무엇일지 생각해 보자.

```javascript
console.log(score);

score = 80;
var score;

console.log(score);
```

실행 결과

```
undefined
80
```

💭변수 선언은 런타임 이전에 실행되므로 어디에 선언되든 할당할 수 있다. 따라서 score = 80; 코드도 에러 없이 동작할 것이다.

<hr>

### 4.6 값의 재할당

var 키워드로 선언한 변수는 값을 재할당할 수 있다.

상수는 단 한 번만 할당할 수 있는 변수다.

변수 재할당을 하면 기존의 메모리 공간의 값을 지우고 다시 쓰는게 아니라 새로운 메모리 공간을 확보하고 재할당할 값을 해당 메모리 공간에 저장한다. (더이상 쓰이지 않는 기존의 메모리 공간은 가비지 컬렉터에 의해 자동 해제된다.)

<hr>

### 4.7 식별자 네이밍 규칙

- 식별자는 특수 문자를 제외한 문자, 언더스코어(\_), 달러 기호($)를 포함할 수 있다.

- 식별자는 특수 문자를 제외한 문자, 언더스코어(\_), 달러 기호($)로 시작해야 한다.

_변수 선언에 별도의 주석이 필요하다면 변수의 존재 목적을 명확히 드러내지 못하는 것이다._

➡️ 변수명 명확하게 쓰기

**네이밍 컨벤션**

- 변수나 함수의 이름에는 카멜 케이스를 사용한다.

  ```
  var firstName;
  ```

- 생성자 함수, 크래스 이름에는 파스칼 케이스르 사용한다.

  ```
  var FirstName;
  ```
