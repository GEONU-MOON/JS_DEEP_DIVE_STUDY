## 14장 전역 변수의 문제점

### 14.1 변수의 생명 주기

- 지역 변수의 생명 주기는 함수의 생명 주기와 일치한다.

- 변수의 생명 주기는 메모리 공간이 확보된 시점부터 메모리 공간이 해제되어 가용 메모리 풀에 반환되는 시점까지다.

- 변수는 자신이 등록된 스코프가 소멸될 때까지 유효하다.

- 누군가 스코프를 참조하고 있으면 스코프는 소멸하지 않고 생존한다.

```javascript
var x = "global";

function foo() {
  console.log(x); // undefined
  var x = "local";
}

foo();
console.log(x);
```

- 호이스팅은 스코프를 단위로 동작한다.

- var 키워드로 선언한 전역 변수의 생명 주기는 전역 객체의 생명 주기와 일치한다.

<hr>

### 14.2 전역 변수의 문제점

- 암묵적 결합 허용

  - 암묵적 결합: 모든 코드가 전역 변수를 참조하고 변경

- 긴 생명주기

- 스코프 체인 상에서 종점에 존재

  - 전역 변수의 검색 속도가 가장 느림

- 네임스페이스 오염

<hr>

### 14.3 전역 변수의 사용을 억제하는 방법

1. 즉시 실행 함수

   모든 변수는 즉시 실행 함수의 지역 변수가 됨.

2. 네임스페이스 객체

3. 모듈 패턴

   클래스 모방

   관련 있는 변수와 함수를 모아 즉시 실행 함수로 감싸 하나의 모듈을 만든다.

   - 캡슐화: 프로퍼티 + 메서드

     _프로퍼티: 객체의 상태를 나타냄. 메서드: 프로퍼티를 참조하고 조작할 수 있는 동작_

4. ES6 모듈

<hr>
