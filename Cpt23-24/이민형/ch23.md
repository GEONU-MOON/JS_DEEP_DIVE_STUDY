## 23장 실행 컨텍스트

### 소스코드의 평가와 실행

소스코드의 평가 과정에서 실행 컨텍스트를 생성한다. 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록한다.

소스코드 실행 중 필요한 정보(변수나 함수)의 참조를 실행 컨텍스트가 관리하는 스코프에서 검색해서 취득한다.

변수 값의 변경 등 소스코드의 실행 결과는 다시 실행 컨텍스트가 관리하는 스코프에 등록된다.

<hr />

### 실행 컨텍스트

코드가 실행되려면 스코프, 식별자, 코드 실행 순서 등의 관리가 필요하다. 이를 관리하는게 실행 컨텍스트다.

_실행 컨텍스트는 소스코드를 실행하는 데 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다._

- 자바스크립트 코드가 실행되는 환경을 추상화한 개념

- 변수, 함수, 스코프 등 코드 실행에 필요한 정보를 담고 있으며, 코드의 실행 순서를 관리한다.

  - **Variable Environment (변수 환경):** 현재 컨텍스트 내에서 접근 가능한 변수, 함수 선언, arguments 객체 등을 저장한다.
  - **Scope Chain (스코프 체인):** 현재 컨텍스트와 상위 컨텍스트들의 Lexical Environment를 연결하여 변수 탐색 순서를 결정한다.
  - **this value (this 값):** 현재 실행 중인 함수가 어떻게 호출되었는지에 따라 결정되는 값이다.

#### \_\_전역 실행 컨텍스트와 함수 실행 컨텍스트의 차이

- **전역 실행 컨텍스트:** 자바스크립트 코드가 처음 실행될 때 생성되는 가장 바깥쪽의 실행 컨텍스트. 전역 객체 (window 또는 global), 전역 변수, 전역 함수 등을 포함하며, 프로그램 종료 시까지 유지된다.

- **함수 실행 컨텍스트:** 함수가 호출될 때마다 생성되는 실행 컨텍스트. 함수 내부의 변수, 매개변수, arguments 객체 등을 포함하며, 함수 실행이 종료되면 소멸된다.

➡️ 전역 실행 컨텍스트는 코드 실행 시작 시 한 번 생성되고, 함수 실행 컨텍스트는 함수가 호출될 때마다 생성된다.

<hr />

### 실행 컨텍스트 스택

생성된 실행 컨텍스트는 스택 자료구조로 관리된다. 이를 실행 컨텍스트 스택이라 부른다.

실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 언제나 현재 실행 중인 코드의 실행 컨텍스트다.

<hr />
